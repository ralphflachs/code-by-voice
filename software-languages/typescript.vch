# the following supports typescript code snippets in Visual Studio code
# Requires extensions: https://marketplace.visualstudio.com/items?itemName=johnpapa.Angular2
include common.vch;

ts:
    selectSnippet(value) := $value {Ctrl+Space} Wait(500) {Tab};

    <primitiveTypesTypescript> := (
        string = "string"
        |number = "number"
        |bool = "boolean"
        |date = "Date"
        |any = "any"        
    );
    <primitiveTypesTypescript> = $1 " ";

    <declarationTypescript> := (
        initialized = "initialized"
        |uninitialized = "uninitialized"
    );
    <declarationTypescript> = selectSnippet($1);

    <bracketsTypescript> := (
        paran = "()"
        |bracket = "[]"
        |angle = "<Typescript>"
        |block = "{}"
        |quotes = '""'
        |single quotes = "''"
    );
    <bracketsTypescript> = $1 {Left};

    <operatorsTypescript> := (        
        dot = "."
        |increment = "++"
        |decrement = "--"
        |reference = "&"
        |dereference = "*"
        |comma = ","
        |plus = "+"
        |minus = "-"
        |times = "*"
        |divide = "/"
        |mod = "%"
        |less than = "<"
        |less [than or] equal = "<="
        |greater = ">"
        |greater [than or] equal = ">="
        |is equal = "=="
        |not equal = "!="
        |and op = "&&"
        |or op = "||"
        |not op = "!"
        |bit and = "&"
        |bit or = "|"
        |shift left = "<<"
        |shift right = ">>"
        |bit not = "~"
        |bit xor = "^"
        |equals = "="
        |plus equals = "+="
        |minus equals = "-="
        |times equals = "*="
        |divide equals = "/="
        |mod equals = "%="        
    );
    <operatorsTypescript> = $1 " ";

    <conditionsTypescript> := (
        if = "if"           
        |if else = "if else"
        |switch = "switch"        
    );
    <conditionsTypescript> = selectSnippet($1);

    <classIdentifiersTypescript> := (
        public = "public"
        |protected = "protected"
        |private = "private"
        |static = "static"
        |read only = "readonly"                
    );
    <classIdentifiersTypescript> = $1;

    <loopsTypescript> := (
        for loop = "for"
        |while loop = "while"
        |do while = "dowhile"
        |for await = "forawaitof"
        |for each = "foreach"
        |for in = "forin"
        |for of = "forof"
    );
    <loopsTypescript> = selectSnippet($1);

    <functionTypescript> := (
        function = "function"
        |async function = "async function"
        |arrow function = "async arrow function" 
    );
    <functionTypescript> = selectSnippet($1);

    <oopTypescript> := (
        class = "class"
        |template class = "classt"
        |inline class = "classi"
    );
    <oopTypescript> = selectSnippet($1);